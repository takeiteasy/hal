<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
    <title>shell.h</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <meta name="generator" content="HeaderDoc">
<meta name="xcode-display" content="render">
<style type="text/css"><!--.char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;}body {border: 0px; margin: 0px;}div {font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}td {font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}span.hd_tocAccessSpace { display: block; font-size: 1px; height: 3px; min-height: 3px; }span.hd_tocGroupSpace { display: block; font-size: 1px; height: 3px; min-height: 3px; }span.hd_tocGroup { display: block; font-weight: bold; font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000; margin-left: 0px; padding-left: 40px; }span.hd_tocGroup + span.hd_tocAccess { padding-top: 5px; }td.toc_contents_text {font-size: 11pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000; }li.tocSubEntry {font-size: 11pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}p {font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}a:link {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:visited {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:visited:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:active {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}h2.h2tight { margin-top: 0px; padding-top: 0px; }h1 { margin-top: 13px; padding-top: 0px; }h4 {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: tiny; font-weight: bold;}h5 {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: 10.1pt; font-weight: bold;}pre {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666; font-size: 10pt;}pre a { font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}pre a:link { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:visited { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:visited:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:active { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}code a { font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}code a:link { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:visited { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:visited:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:active { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}tt a { font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}tt a:link { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:visited { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:visited:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:active { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}body  {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt; padding-left: 0px; padding-top: 0px; margin-left: 0px; margin-top: 0px; border: none; }#hd_outermost_table { margin-left: 0px; border-spacing: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }#hd_outermost_table > tr { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }#hd_outermost_table > tr > td { border-spacing: 0px; margin-left: 0px; margin-top: 0px; }#hd_outermost_table > tbody > tr { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }#hd_outermost_table > tbody > tr > td { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-top: 3px; }.afterName { display: none; }.list_indent { margin-left: 40px; }.declaration_indent { margin-left: 40px; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; min-height: 12px; vertical-align: middle; }.declaration_indent pre { margin-top: 20px; padding-top: 0px; margin-bottom: 20px; padding-bottom: 0px; }.gapBeforeFooter { display: none; }hr { height: 0px; min-height: 0px; border-top: none; border-left: none; border-right: none; border-bottom: 1px solid #909090;}hr.afterHeader { display: none }.param_group_indent { margin-left: 25px; }.param_indent { margin-left: 40px; margin-top: 0px; padding-top: 0px; }.param_indent dl { margin-top: 4px; padding-top: 0px; }dl dd > p:first-child { margin-top: 2px; padding-top: 0px; }.param_indent dl dd > p:first-child { margin-top: 2px; padding-top: 0px; }.group_indent { margin-left: 40px; }.group_desc_indent { margin-left: 20px; }.warning_indent { margin-left: 40px; }.important_indent { margin-left: 40px; }.note_indent { margin-left: 40px; }h3 {       color: #3C4C6C;}.tight {       margin-top: 2px; margin-bottom: 0px;       padding-top: 0px; padding-bottom: 0px;}h3 a {       color: #3C4C6C;	font-size: 16px;	font-style: normal;	font-variant: normal;	font-weight: bold;	height: 0px;	line-height: normal;}.hd_tocAccess { display: block; margin-left: 40px; font-style: italic; font-size: 10px; font-weight: normal; color: #303030; }.tocSubheading { margin-bottom: 4px; }--></style>
<style><!--
body {
    padding: 0px;
    margin: 0px;
    border: 0px;
}
.toc_contents_text {
    padding-left: 1em;
    text-indent: -1em;
}

ul.tocSubEntryList li.tocSubEntry {
    list-style: none;
}

#colorbox {
		display: none;
}
.spec_sheet_line {
		margin-bottom: 1px;
}
.collapsible {
		display: none;
}
.toc_leadspace {
		width: 10; min-width: 10;
}
.disclosure_triangle_td {
		width: 14; min-width: 14;
		font-size: 10px;
		vertical-align: middle;
}
.specbox td {
		font-size: 13px;
}
.specbox td a {
		font-size: 13px;
}
.specbox td code {
		font-size: 13px;
}
.specbox td tt {
		font-size: 13px;
}
.specbox td pre {
		font-size: 13px;
}
.specbox a {
		font-size: 12px;
}
.disclosure_triangle_td a {
		text-decoration: none;
}
.disclosure_triangle_td a:link {
		text-decoration: none;
}
.disclosure_triangle_td a:active {
		text-decoration: none;
}
.disclosure_triangle_td a:visited:hover {
		text-decoration: none;
}
.disclosure_triangle_td a:hover {
		text-decoration: none;
}
.hd_toc_box {
		padding-top: 10px;
		padding-right: 15px;
}.tocSeparator {
		margin-top: 15px;
		padding-bottom: 0px;
		margin-bottom: 0px;
}
.tocSubEntryList {
		margin-left: 0px;
		padding-left: 40px;
		padding-top: 0px;
		margin-top: 2px;
		padding-bottom: 0px;
		margin-bottom: 8px;
}
.hd_toc_heading_table {
		margin-top: 2px;
		margin-bottom: 2px;
}
.hd_toc_entry_table {
		margin-top: 2px;
		margin-bottom: 2px;
}
.tocSubEntry {
		margin-left: 0px;
		padding-left: 0px;
		margin-top: 0px;
		margin-bottom: 1px;
}
.tocSubEntry a {
		font-size: 10pt;
}
.tocSubheading {
		padding-left: 14px;
		margin-left: 0px;
		margin-top: 5px;
		padding-top: 0px;
		font-size: 16px;
		color: #808080;
}

#hd_outermost_table { margin-left: 0px; border-spacing: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }
#hd_outermost_table > tr { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }
#hd_outermost_table > tr > td { border-spacing: 0px; margin-left: 0px; margin-top: 0px; }
#hd_outermost_table > tbody > tr { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }
#hd_outermost_table > tbody > tr > td { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-top: 3px; }

#tocMenu {
		border-right: 1px solid #c0c0c0;
		background-color: #f4f4ff;
		top:0px;
		left:0px;
		width:230px;
		height:100%;
}
#bodyContents {
		width: auto;
		padding-left: 15px;
}
--></style>
<style id="disable_before_iOS_5"><!--
#tocMenu {
		position: fixed;
		height: 100%;
		overflow: auto;
}
#bodyContents {
		width: auto;
		left: 235px;
		right: 0;
		padding-left: 15px;
		position: fixed;
		height: 100%;
		overflow-y: scroll;
}
--></style>
<script language="JavaScript" type="text/javascript"><!--
    if (navigator.platform && (navigator.platform.match(/iPad/) || navigator.platform.match(/iPhone/) || navigator.platform.match(/iPod/))) {
        if (navigator.userAgent.match(/OS 1(_\d)+/) ||
            navigator.userAgent.match(/OS 2(_\d)+/) ||
            navigator.userAgent.match(/OS 3(_\d)+/) ||
            navigator.userAgent.match(/OS 4(_\d)+/)) {
                /* Earlier iOS versions require different scrolling gestures with position: fixed. */
                var del_style_elt = document.getElementById("disable_before_iOS_5");
                if (del_style_elt) del_style_elt.parentNode.removeChild(del_style_elt);
        }
    }
// --></script>
<script language="JavaScript" type="text/javascript"><!--
function getNewHTTPObject()
{
        var xmlhttp;

        /** Special IE only code ... */
        /*@cc_on
          @if (@_jscript_version >= 5)
              try
              {
                  xmlhttp = new ActiveXObject('Msxml2.XMLHTTP');
              }
              catch (e)
              {
                  try
                  {
                      xmlhttp = new ActiveXObject('Microsoft.XMLHTTP');
                  }
                  catch (E)
                  {
                      xmlhttp = false;
                  }
             }
          @else
             xmlhttp = false;
        @end @*/

        /** Every other browser on the planet */
        if (!xmlhttp && typeof XMLHttpRequest != 'undefined')
        {
            try
            {
                xmlhttp = new XMLHttpRequest();
            }
            catch (e)
            {
                xmlhttp = false;
            }
        }

        return xmlhttp;
}

function hidetoc() {
	var toc = document.getElementById('tocMenu');
	var src = toc.getAttribute('src');
	var xhr = getNewHTTPObject();
	xhr.open('GET', src, true);
	xhr.onreadystatechange = function() {
		if(xhr.readyState == 4) {
			var toc = document.getElementById('tocMenu');
			toc.innerHTML = xhr.responseText;
		}
	}
	xhr.send(null);
	var origURL = parent.document.URL;
	var contentURL = origURL.substring(origURL.indexOf('?')+1, origURL.length);
	if (contentURL.length == origURL.length) {
		jumpPos = origURL.substring(origURL.indexOf('#')+1, origURL.length);
	}
	if (contentURL == "hidetoc") {
		var body = document.getElementById('bodyContents');
		if (toc && body) {
			toc.style.display = 'none';
			body.style.marginLeft = '0px';
		}
	}
}

function disclosure_triangle(elt) {
   var linkelt = elt;
   while (elt && elt.tagName != 'TABLE') { elt = elt.parentNode;}
   if (!elt) { return; }
   while (elt && elt.tagName != 'DIV') { elt = elt.nextSibling;}
   if (!elt) { return; }
   if (parseInt(linkelt.getAttribute('state'))) {
      // It's open.  Close it
      linkelt.innerHTML = '&#x25B7;';
      linkelt.setAttribute('state', 0);
      linkelt.setAttribute('class', 'closed_disclosure_triangle');
      elt.style.display = 'none';
   } else {
      // It's closed.  Open it
      linkelt.innerHTML = '&#x25BC;';
      linkelt.setAttribute('state', 1);
      linkelt.setAttribute('class', 'open_disclosure_triangle');
      elt.style.display = 'block';
   }
}
--></script>
<style type="text/css"><!--.char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;}body {border: 0px; margin: 0px;}div {font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}td {font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}span.hd_tocAccessSpace { display: block; font-size: 1px; height: 3px; min-height: 3px; }span.hd_tocGroupSpace { display: block; font-size: 1px; height: 3px; min-height: 3px; }span.hd_tocGroup { display: block; font-weight: bold; font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000; margin-left: 0px; padding-left: 40px; }span.hd_tocGroup + span.hd_tocAccess { padding-top: 5px; }td.toc_contents_text {font-size: 11pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000; }li.tocSubEntry {font-size: 11pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}p {font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}a:link {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:visited {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:visited:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:active {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}h2.h2tight { margin-top: 0px; padding-top: 0px; }h1 { margin-top: 13px; padding-top: 0px; }h4 {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: tiny; font-weight: bold;}h5 {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: 10.1pt; font-weight: bold;}pre {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666; font-size: 10pt;}pre a { font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}pre a:link { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:visited { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:visited:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:active { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}code a { font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}code a:link { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:visited { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:visited:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:active { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}tt a { font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}tt a:link { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:visited { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:visited:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:active { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}body  {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt; padding-left: 0px; padding-top: 0px; margin-left: 0px; margin-top: 0px; border: none; }#hd_outermost_table { margin-left: 0px; border-spacing: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }#hd_outermost_table > tr { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }#hd_outermost_table > tr > td { border-spacing: 0px; margin-left: 0px; margin-top: 0px; }#hd_outermost_table > tbody > tr { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }#hd_outermost_table > tbody > tr > td { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-top: 3px; }.afterName { display: none; }.list_indent { margin-left: 40px; }.declaration_indent { margin-left: 40px; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; min-height: 12px; vertical-align: middle; }.declaration_indent pre { margin-top: 20px; padding-top: 0px; margin-bottom: 20px; padding-bottom: 0px; }.gapBeforeFooter { display: none; }hr { height: 0px; min-height: 0px; border-top: none; border-left: none; border-right: none; border-bottom: 1px solid #909090;}hr.afterHeader { display: none }.param_group_indent { margin-left: 25px; }.param_indent { margin-left: 40px; margin-top: 0px; padding-top: 0px; }.param_indent dl { margin-top: 4px; padding-top: 0px; }dl dd > p:first-child { margin-top: 2px; padding-top: 0px; }.param_indent dl dd > p:first-child { margin-top: 2px; padding-top: 0px; }.group_indent { margin-left: 40px; }.group_desc_indent { margin-left: 20px; }.warning_indent { margin-left: 40px; }.important_indent { margin-left: 40px; }.note_indent { margin-left: 40px; }h3 {       color: #3C4C6C;}.tight {       margin-top: 2px; margin-bottom: 0px;       padding-top: 0px; padding-bottom: 0px;}h3 a {       color: #3C4C6C;	font-size: 16px;	font-style: normal;	font-variant: normal;	font-weight: bold;	height: 0px;	line-height: normal;}.hd_tocAccess { display: block; margin-left: 40px; font-style: italic; font-size: 10px; font-weight: normal; color: #303030; }.tocSubheading { margin-bottom: 4px; }--></style>
</head>
<body bgcolor="#ffffff" onload="hidetoc();">
<!-- headerDoc=Header;  uid=//apple_ref/doc/header/shell.h;   name=shell.h -->
<a name="//apple_ref/doc/header/shell.h"></a>
<table id="hd_outermost_table" height="100%" width="100%"><tr>
<td valign="top" id="tocMenu" src="toc.html"></td>
<td id="bodyContents" valign="top">
<a name="top"></a>
<h1><a name="shell.h">shell.h</a></h1>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox">
<tr>
<td scope="row"><b>Includes:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<a machinegenerated="true" href="../hal_h/index.html#//apple_ref/doc/header/hal.h" logicalPath="//apple_ref/doc/header/hal.h" target="_top">"hal.h"</a><br>
<!-- a logicalPath="//apple_ref/doc/header/stddef.h" machineGenerated="true" -->&lt;stddef.h&gt;<!-- /a -->
</div></div></td>
</tr>
</table></div>
<h2>Introduction</h2>
<p><!-- headerDoc=abstract;uid=//apple_ref/doc/header/shell.h;name=start --><!-- begin abstract --></p>
<p>Shell command execution with I/O capture
<!-- end abstract --><!-- headerDoc=abstract;uid=//apple_ref/doc/header/shell.h;name=end --></p>
<dl>
<dt><b>Updated:</b></dt>
<dd>Thursday, December 25, 2025</dd>
</dl>
<hr class="afterClassOrHeaderInfo">
<br><a name="HeaderDoc_functions"></a>
<h2 class="h2tight">Functions</h2>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/hal_shell" target="_top">hal_shell</a></tt></dt>
<dd><p>Execute a shell command
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/hal_shell_fmt" target="_top">hal_shell_fmt</a></tt></dt>
<dd><p>Execute a shell command with printf formatting
</p></dd>
</dl>
<hr class="betweenAPIEntries">
<!-- headerDoc=func;  uid=//apple_ref/c/func/hal_shell;   name=hal_shell -->
<a name="//apple_ref/c/func/hal_shell"></a>
<h3><a name="hal_shell">hal_shell</a></h3>
<hr class="afterName">
<p><!-- headerDoc=abstract;uid=//apple_ref/c/func/hal_shell;name=start --><!-- begin abstract --></p>
<p>Execute a shell command
<!-- end abstract --><!-- headerDoc=abstract;uid=//apple_ref/c/func/hal_shell;name=end --></p>
<div class="declaration_indent">
<pre><!-- headerDoc=declaration;uid=//apple_ref/c/func/hal_shell;name=start --><!-- a logicalPath="//apple_ref/c/cl/int //apple_ref/c/tdef/int //apple_ref/c/tag/int //apple_ref/c/struct/int //apple_ref/c/intf/int //apple_ref/doc/anysymbol/int" machineGenerated="true" --><span class="type">int</span><!-- /a --> <a machinegenerated="true" href="index.html#//apple_ref/c/func/hal_shell" logicalPath="//apple_ref/c/instm/hal_shell //apple_ref/c/clm/hal_shell //apple_ref/c/intfcm/hal_shell //apple_ref/c/intfm/hal_shell //apple_ref/c/func/hal_shell" target="_top"><span class="function">hal_shell</span></a>(
    <span class="keyword">const</span> <!-- a logicalPath="//apple_ref/c/cl/char //apple_ref/c/tdef/char //apple_ref/c/tag/char //apple_ref/c/struct/char //apple_ref/c/intf/char //apple_ref/doc/anysymbol/char" machineGenerated="true" --><span class="type">char</span><!-- /a --> <span class="type">*</span><span class="param">command</span>,
    <a machinegenerated="true" href="index.html#//apple_ref/c/tdef/hal_shell_io_t" logicalPath="//apple_ref/c/cl/hal_shell_io_t //apple_ref/c/tdef/hal_shell_io_t" target="_top"><span class="type">hal_shell_io_t</span></a> <span class="type">*</span><span class="param">io</span>);  <!-- headerDoc=declaration;uid=//apple_ref/c/func/hal_shell;name=end --></pre>
</div>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<div class="param_indent">
<dl>
<dt>
<!-- headerDoc=functionparam;  uid=//apple_ref/doc/functionparam/hal_shell/command;   name=command -->
<a name="//apple_ref/doc/functionparam/hal_shell/command"></a>
<code>command</code>
</dt>
<dd><p>Command to execute</p></dd>
<dt>
<!-- headerDoc=functionparam;  uid=//apple_ref/doc/functionparam/hal_shell/io;   name=io -->
<a name="//apple_ref/doc/functionparam/hal_shell/io"></a>
<code>io</code>
</dt>
<dd><p>Capture structure, NULL to ignore (no capture output)</p></dd>
</dl>
</div>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value --></p>
<p>Returns the exit code of the command, negative on internal error

<!-- end return value --></p>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<!-- begin discussion --><!-- headerDoc=discussion;uid=//apple_ref/c/func/hal_shell;name=start --><p>Execute a shell command (bourne shell syntax, |, &gt;, &lt;, &amp;&amp;, ;)
<!-- headerDoc=discussion;uid=//apple_ref/c/func/hal_shell;name=end --><!-- end discussion -->
</p>
<hr class="betweenAPIEntries">
<!-- headerDoc=func;  uid=//apple_ref/c/func/hal_shell_fmt;   name=hal_shell_fmt -->
<a name="//apple_ref/c/func/hal_shell_fmt"></a>
<h3><a name="hal_shell_fmt">hal_shell_fmt</a></h3>
<hr class="afterName">
<p><!-- headerDoc=abstract;uid=//apple_ref/c/func/hal_shell_fmt;name=start --><!-- begin abstract --></p>
<p>Execute a shell command with printf formatting
<!-- end abstract --><!-- headerDoc=abstract;uid=//apple_ref/c/func/hal_shell_fmt;name=end --></p>
<div class="declaration_indent">
<pre><!-- headerDoc=declaration;uid=//apple_ref/c/func/hal_shell_fmt;name=start --><!-- a logicalPath="//apple_ref/c/cl/int //apple_ref/c/tdef/int //apple_ref/c/tag/int //apple_ref/c/struct/int //apple_ref/c/intf/int //apple_ref/doc/anysymbol/int" machineGenerated="true" --><span class="type">int</span><!-- /a --> <a machinegenerated="true" href="index.html#//apple_ref/c/func/hal_shell_fmt" logicalPath="//apple_ref/c/instm/hal_shell_fmt //apple_ref/c/clm/hal_shell_fmt //apple_ref/c/intfcm/hal_shell_fmt //apple_ref/c/intfm/hal_shell_fmt //apple_ref/c/func/hal_shell_fmt" target="_top"><span class="function">hal_shell_fmt</span></a>(
    <a machinegenerated="true" href="index.html#//apple_ref/c/tdef/hal_shell_io_t" logicalPath="//apple_ref/c/cl/hal_shell_io_t //apple_ref/c/tdef/hal_shell_io_t" target="_top"><span class="type">hal_shell_io_t</span></a> <span class="type">*</span><span class="param">io</span>,
    <span class="keyword">const</span> <!-- a logicalPath="//apple_ref/c/cl/char //apple_ref/c/tdef/char //apple_ref/c/tag/char //apple_ref/c/struct/char //apple_ref/c/intf/char //apple_ref/doc/anysymbol/char" machineGenerated="true" --><span class="type">char</span><!-- /a --> <span class="type">*</span><span class="param">command</span>,
    ...);  <!-- headerDoc=declaration;uid=//apple_ref/c/func/hal_shell_fmt;name=end --></pre>
</div>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<div class="param_indent">
<dl>
<dt>
<!-- headerDoc=functionparam;  uid=//apple_ref/doc/functionparam/hal_shell_fmt/io;   name=io -->
<a name="//apple_ref/doc/functionparam/hal_shell_fmt/io"></a>
<code>io</code>
</dt>
<dd><p>Capture structure, NULL to ignore (no capture output)</p></dd>
<dt>
<!-- headerDoc=functionparam;  uid=//apple_ref/doc/functionparam/hal_shell_fmt/command;   name=command -->
<a name="//apple_ref/doc/functionparam/hal_shell_fmt/command"></a>
<code>command</code>
</dt>
<dd><p>Command to execute (formatted)</p></dd>
<dt>
<!-- headerDoc=functionparam;  uid=//apple_ref/doc/functionparam/hal_shell_fmt/...;   name=... -->
<a name="//apple_ref/doc/functionparam/hal_shell_fmt/..."></a>
<code>...</code>
</dt>
<dd><p>printf style format arguments for command</p></dd>
</dl>
</div>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value --></p>
<p>Returns the exit code of the command, negative on internal error

<!-- end return value --></p>
<hr class="betweenSections">
<a name="HeaderDoc_datatypes"></a>
<h2 class="h2tight">Typedefs</h2>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/tdef/hal_shell_err" target="_top">hal_shell_err</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/tdef/hal_shell_err_t" target="_top">hal_shell_err_t</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/tdef/hal_shell_io_t" target="_top">hal_shell_io_t</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/tdef/hal_shell_stream_cb_t" target="_top">hal_shell_stream_cb_t</a></tt></dt>
<dd><p>Callback type for streaming stdout/stderr
</p></dd>
</dl>
<hr class="betweenAPIEntries">
<!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/hal_shell_err;   name=hal_shell_err -->
<a name="//apple_ref/c/tdef/hal_shell_err"></a>
<h3><a name="hal_shell_err">hal_shell_err</a></h3>
<hr class="afterName">
<div class="declaration_indent">
<pre><!-- headerDoc=declaration;uid=//apple_ref/c/tdef/hal_shell_err;name=start --><span class="keyword">typedef</span> <span class="keyword">enum</span> <a machinegenerated="true" href="index.html#//apple_ref/c/tdef/hal_shell_err" logicalPath="//apple_ref/c/cl/hal_shell_err //apple_ref/c/tdef/hal_shell_err" target="_top"><span class="type">hal_shell_err</span></a> { 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_OK" logicalPath="//apple_ref/c/econst/HAL_SHELL_OK" target="_top"><span class="var">HAL_SHELL_OK</span></a> = <span class="number">0</span>, 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_ERR_GENERIC" logicalPath="//apple_ref/c/econst/HAL_SHELL_ERR_GENERIC" target="_top"><span class="var">HAL_SHELL_ERR_GENERIC</span></a> = -<span class="number">1</span>, 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_ERR_FORK" logicalPath="//apple_ref/c/econst/HAL_SHELL_ERR_FORK" target="_top"><span class="var">HAL_SHELL_ERR_FORK</span></a> = -<span class="number">2</span>, 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_ERR_PIPE" logicalPath="//apple_ref/c/econst/HAL_SHELL_ERR_PIPE" target="_top"><span class="var">HAL_SHELL_ERR_PIPE</span></a> = -<span class="number">3</span>, 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_ERR_EXEC" logicalPath="//apple_ref/c/econst/HAL_SHELL_ERR_EXEC" target="_top"><span class="var">HAL_SHELL_ERR_EXEC</span></a> = -<span class="number">4</span>, 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_ERR_TOKENIZE" logicalPath="//apple_ref/c/econst/HAL_SHELL_ERR_TOKENIZE" target="_top"><span class="var">HAL_SHELL_ERR_TOKENIZE</span></a> = -<span class="number">5</span>, 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_ERR_EVAL" logicalPath="//apple_ref/c/econst/HAL_SHELL_ERR_EVAL" target="_top"><span class="var">HAL_SHELL_ERR_EVAL</span></a> = -<span class="number">6</span> 
} <!-- a logicalPath="//apple_ref/c/econst/hal_shell_err_t //apple_ref/c/data/hal_shell_err_t //apple_ref/c/clconst/hal_shell_err_t " machineGenerated="true" --><span class="var">hal_shell_err_t</span><!-- /a -->;  <!-- headerDoc=declaration;uid=//apple_ref/c/tdef/hal_shell_err;name=end --></pre>
</div>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<div class="param_indent">
<dl>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_OK"><code>HAL_SHELL_OK</code></a></dt>
<dd><p>Success</p></dd>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_ERR_GENERIC"><code>HAL_SHELL_ERR_GENERIC</code></a></dt>
<dd><p>Generic error</p></dd>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_ERR_FORK"><code>HAL_SHELL_ERR_FORK</code></a></dt>
<dd><p>Fork failed</p></dd>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_ERR_PIPE"><code>HAL_SHELL_ERR_PIPE</code></a></dt>
<dd><p>Pipe creation failed</p></dd>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_ERR_EXEC"><code>HAL_SHELL_ERR_EXEC</code></a></dt>
<dd><p>Exec failed</p></dd>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_ERR_TOKENIZE"><code>HAL_SHELL_ERR_TOKENIZE</code></a></dt>
<dd><p>Tokenization failed</p></dd>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_ERR_EVAL"><code>HAL_SHELL_ERR_EVAL</code></a></dt>
<dd><p>Evaluation failed</p></dd>
</dl>
</div>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<!-- begin discussion --><!-- headerDoc=discussion;uid=//apple_ref/c/tdef/hal_shell_err;name=start --><p>Shell error codes (negative values from hal_shell())
<!-- headerDoc=discussion;uid=//apple_ref/c/tdef/hal_shell_err;name=end --><!-- end discussion -->
</p>
<p><b>See Also</b></p>
<div class="list_indent"><dl>
<dt><p><a href="index.html#//apple_ref/c/tdef/hal_shell_err_t" logicalPath="//apple_ref/c/tdef/hal_shell_err_t" target="_top">hal_shell_err_t</a></p></dt>
<dd></dd>
</dl></div>
<hr class="betweenAPIEntries">
<!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/hal_shell_err_t;   name=hal_shell_err_t -->
<a name="//apple_ref/c/tdef/hal_shell_err_t"></a>
<h3><a name="hal_shell_err_t">hal_shell_err_t</a></h3>
<hr class="afterName">
<div class="declaration_indent">
<pre><!-- headerDoc=declaration;uid=//apple_ref/c/tdef/hal_shell_err_t;name=start --><span class="keyword">typedef</span> <span class="keyword">enum</span> <a machinegenerated="true" href="index.html#//apple_ref/c/tdef/hal_shell_err" logicalPath="//apple_ref/c/cl/hal_shell_err //apple_ref/c/tdef/hal_shell_err" target="_top"><span class="type">hal_shell_err</span></a> { 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_OK" logicalPath="//apple_ref/c/econst/HAL_SHELL_OK" target="_top"><span class="var">HAL_SHELL_OK</span></a> = <span class="number">0</span>, 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_ERR_GENERIC" logicalPath="//apple_ref/c/econst/HAL_SHELL_ERR_GENERIC" target="_top"><span class="var">HAL_SHELL_ERR_GENERIC</span></a> = -<span class="number">1</span>, 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_ERR_FORK" logicalPath="//apple_ref/c/econst/HAL_SHELL_ERR_FORK" target="_top"><span class="var">HAL_SHELL_ERR_FORK</span></a> = -<span class="number">2</span>, 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_ERR_PIPE" logicalPath="//apple_ref/c/econst/HAL_SHELL_ERR_PIPE" target="_top"><span class="var">HAL_SHELL_ERR_PIPE</span></a> = -<span class="number">3</span>, 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_ERR_EXEC" logicalPath="//apple_ref/c/econst/HAL_SHELL_ERR_EXEC" target="_top"><span class="var">HAL_SHELL_ERR_EXEC</span></a> = -<span class="number">4</span>, 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_ERR_TOKENIZE" logicalPath="//apple_ref/c/econst/HAL_SHELL_ERR_TOKENIZE" target="_top"><span class="var">HAL_SHELL_ERR_TOKENIZE</span></a> = -<span class="number">5</span>, 
    <a machinegenerated="true" href="index.html#//apple_ref/c/econst/HAL_SHELL_ERR_EVAL" logicalPath="//apple_ref/c/econst/HAL_SHELL_ERR_EVAL" target="_top"><span class="var">HAL_SHELL_ERR_EVAL</span></a> = -<span class="number">6</span> 
} <!-- a logicalPath="//apple_ref/c/econst/hal_shell_err_t //apple_ref/c/data/hal_shell_err_t //apple_ref/c/clconst/hal_shell_err_t " machineGenerated="true" --><span class="var">hal_shell_err_t</span><!-- /a -->;  <!-- headerDoc=declaration;uid=//apple_ref/c/tdef/hal_shell_err_t;name=end --></pre>
</div>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<div class="param_indent">
<dl>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_OK_DONTLINK_0"><code>HAL_SHELL_OK</code></a></dt>
<dd><p>Success</p></dd>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_ERR_GENERIC_DONTLINK_0"><code>HAL_SHELL_ERR_GENERIC</code></a></dt>
<dd><p>Generic error</p></dd>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_ERR_FORK_DONTLINK_0"><code>HAL_SHELL_ERR_FORK</code></a></dt>
<dd><p>Fork failed</p></dd>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_ERR_PIPE_DONTLINK_0"><code>HAL_SHELL_ERR_PIPE</code></a></dt>
<dd><p>Pipe creation failed</p></dd>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_ERR_EXEC_DONTLINK_0"><code>HAL_SHELL_ERR_EXEC</code></a></dt>
<dd><p>Exec failed</p></dd>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_ERR_TOKENIZE_DONTLINK_0"><code>HAL_SHELL_ERR_TOKENIZE</code></a></dt>
<dd><p>Tokenization failed</p></dd>
<dt><a name="//apple_ref/c/econst/HAL_SHELL_ERR_EVAL_DONTLINK_0"><code>HAL_SHELL_ERR_EVAL</code></a></dt>
<dd><p>Evaluation failed</p></dd>
</dl>
</div>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<!-- begin discussion --><!-- headerDoc=discussion;uid=//apple_ref/c/tdef/hal_shell_err_t;name=start --><p>Shell error codes (negative values from hal_shell())
<!-- headerDoc=discussion;uid=//apple_ref/c/tdef/hal_shell_err_t;name=end --><!-- end discussion -->
</p>
<p><b>See Also</b></p>
<div class="list_indent"><dl>
<dt><p><a href="index.html#//apple_ref/c/tdef/hal_shell_err" logicalPath="//apple_ref/c/tdef/hal_shell_err" target="_top">hal_shell_err</a></p></dt>
<dd></dd>
</dl></div>
<hr class="betweenAPIEntries">
<!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/hal_shell_io_t;   name=hal_shell_io_t -->
<a name="//apple_ref/c/tdef/hal_shell_io_t"></a>
<h3><a name="hal_shell_io_t">hal_shell_io_t</a></h3>
<hr class="afterName">
<div class="declaration_indent">
<pre><!-- headerDoc=declaration;uid=//apple_ref/c/tdef/hal_shell_io_t;name=start --><span class="keyword">typedef</span> <span class="keyword">struct</span> <!-- a logicalPath="//apple_ref/c/cl/hal_shell_io //apple_ref/c/tdef/hal_shell_io //apple_ref/c/tag/hal_shell_io //apple_ref/c/struct/hal_shell_io //apple_ref/c/intf/hal_shell_io //apple_ref/doc/anysymbol/hal_shell_io" machineGenerated="true" --><span class="type">hal_shell_io</span><!-- /a --> { 
    <span class="comment">/* Captured output buffers (allocated by hal_shell when callbacks are NULL). */</span>
    <!-- a logicalPath="//apple_ref/c/cl/char //apple_ref/c/tdef/char //apple_ref/c/tag/char //apple_ref/c/struct/char //apple_ref/c/intf/char //apple_ref/doc/anysymbol/char" machineGenerated="true" --><span class="type">char</span><!-- /a --> <span class="type">*</span><!-- a logicalPath="//apple_ref/c/econst/out //apple_ref/c/data/out //apple_ref/c/clconst/out " machineGenerated="true" --><span class="var">out</span><!-- /a -->; <span class="comment">/* captured stdout (NUL-terminated) */</span>
    <!-- a logicalPath="//apple_ref/c/cl/size_t //apple_ref/c/tdef/size_t //apple_ref/c/tag/size_t //apple_ref/c/struct/size_t //apple_ref/c/intf/size_t //apple_ref/doc/anysymbol/size_t" machineGenerated="true" --><span class="type">size_t</span><!-- /a --> <!-- a logicalPath="//apple_ref/c/econst/out_len //apple_ref/c/data/out_len //apple_ref/c/clconst/out_len " machineGenerated="true" --><span class="var">out_len</span><!-- /a -->; 
    <!-- a logicalPath="//apple_ref/c/cl/char //apple_ref/c/tdef/char //apple_ref/c/tag/char //apple_ref/c/struct/char //apple_ref/c/intf/char //apple_ref/doc/anysymbol/char" machineGenerated="true" --><span class="type">char</span><!-- /a --> <span class="type">*</span><!-- a logicalPath="//apple_ref/c/econst/err //apple_ref/c/data/err //apple_ref/c/clconst/err " machineGenerated="true" --><span class="var">err</span><!-- /a -->; <span class="comment">/* captured stderr (NUL-terminated) */</span>
    <!-- a logicalPath="//apple_ref/c/cl/size_t //apple_ref/c/tdef/size_t //apple_ref/c/tag/size_t //apple_ref/c/struct/size_t //apple_ref/c/intf/size_t //apple_ref/doc/anysymbol/size_t" machineGenerated="true" --><span class="type">size_t</span><!-- /a --> <!-- a logicalPath="//apple_ref/c/econst/err_len //apple_ref/c/data/err_len //apple_ref/c/clconst/err_len " machineGenerated="true" --><span class="var">err_len</span><!-- /a -->;  
    <span class="comment">/* Input to be written to child's STDIN before closing it. Not modified by hal_shell. */</span>
    <span class="keyword">const</span> <!-- a logicalPath="//apple_ref/c/cl/char //apple_ref/c/tdef/char //apple_ref/c/tag/char //apple_ref/c/struct/char //apple_ref/c/intf/char //apple_ref/doc/anysymbol/char" machineGenerated="true" --><span class="type">char</span><!-- /a --> <span class="type">*</span><!-- a logicalPath="//apple_ref/c/econst/in //apple_ref/c/data/in //apple_ref/c/clconst/in " machineGenerated="true" --><span class="var">in</span><!-- /a -->; 
    <!-- a logicalPath="//apple_ref/c/cl/size_t //apple_ref/c/tdef/size_t //apple_ref/c/tag/size_t //apple_ref/c/struct/size_t //apple_ref/c/intf/size_t //apple_ref/doc/anysymbol/size_t" machineGenerated="true" --><span class="type">size_t</span><!-- /a --> <!-- a logicalPath="//apple_ref/c/econst/in_len //apple_ref/c/data/in_len //apple_ref/c/clconst/in_len " machineGenerated="true" --><span class="var">in_len</span><!-- /a -->;  
    <span class="comment">/* Streaming callbacks. If non-NULL, hal_shell will call these with each
     * incoming chunk. Callbacks receive `userdata` as the last argument.
     * When callbacks are used, `out`/`err` buffers are not populated.</span>
        <span class="comment">*/</span>
    <a machinegenerated="true" href="index.html#//apple_ref/c/tdef/hal_shell_stream_cb_t" logicalPath="//apple_ref/c/cl/hal_shell_stream_cb_t //apple_ref/c/tdef/hal_shell_stream_cb_t" target="_top"><span class="type">hal_shell_stream_cb_t</span></a> <!-- a logicalPath="//apple_ref/c/econst/out_cb //apple_ref/c/data/out_cb //apple_ref/c/clconst/out_cb " machineGenerated="true" --><span class="var">out_cb</span><!-- /a -->; 
    <a machinegenerated="true" href="index.html#//apple_ref/c/tdef/hal_shell_stream_cb_t" logicalPath="//apple_ref/c/cl/hal_shell_stream_cb_t //apple_ref/c/tdef/hal_shell_stream_cb_t" target="_top"><span class="type">hal_shell_stream_cb_t</span></a> <!-- a logicalPath="//apple_ref/c/econst/err_cb //apple_ref/c/data/err_cb //apple_ref/c/clconst/err_cb " machineGenerated="true" --><span class="var">err_cb</span><!-- /a -->; 
    <!-- a logicalPath="//apple_ref/c/cl/void //apple_ref/c/tdef/void //apple_ref/c/tag/void //apple_ref/c/struct/void //apple_ref/c/intf/void //apple_ref/doc/anysymbol/void" machineGenerated="true" --><span class="type">void</span><!-- /a --> <span class="type">*</span><!-- a logicalPath="//apple_ref/c/econst/userdata //apple_ref/c/data/userdata //apple_ref/c/clconst/userdata " machineGenerated="true" --><span class="var">userdata</span><!-- /a -->; 
} <!-- a logicalPath="//apple_ref/c/econst/hal_shell_io_t //apple_ref/c/data/hal_shell_io_t //apple_ref/c/clconst/hal_shell_io_t " machineGenerated="true" --><span class="var">hal_shell_io_t</span><!-- /a -->;  <!-- headerDoc=declaration;uid=//apple_ref/c/tdef/hal_shell_io_t;name=end --></pre>
</div>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<div class="param_indent">
<dl>
<dt>
<!-- headerDoc=typedeffield;  uid=//apple_ref/doc/typedeffield/hal_shell_io_t/out;   name=out -->
<a name="//apple_ref/doc/typedeffield/hal_shell_io_t/out"></a>
<code>out</code>
</dt>
<dd><p>Captured stdout buffer (NUL-terminated, allocated by hal_shell)</p></dd>
<dt>
<!-- headerDoc=typedeffield;  uid=//apple_ref/doc/typedeffield/hal_shell_io_t/out_len;   name=out_len -->
<a name="//apple_ref/doc/typedeffield/hal_shell_io_t/out_len"></a>
<code>out_len</code>
</dt>
<dd><p>Length of captured stdout</p></dd>
<dt>
<!-- headerDoc=typedeffield;  uid=//apple_ref/doc/typedeffield/hal_shell_io_t/err;   name=err -->
<a name="//apple_ref/doc/typedeffield/hal_shell_io_t/err"></a>
<code>err</code>
</dt>
<dd><p>Captured stderr buffer (NUL-terminated, allocated by hal_shell)</p></dd>
<dt>
<!-- headerDoc=typedeffield;  uid=//apple_ref/doc/typedeffield/hal_shell_io_t/err_len;   name=err_len -->
<a name="//apple_ref/doc/typedeffield/hal_shell_io_t/err_len"></a>
<code>err_len</code>
</dt>
<dd><p>Length of captured stderr</p></dd>
<dt>
<!-- headerDoc=typedeffield;  uid=//apple_ref/doc/typedeffield/hal_shell_io_t/in;   name=in -->
<a name="//apple_ref/doc/typedeffield/hal_shell_io_t/in"></a>
<code>in</code>
</dt>
<dd><p>Input buffer to write to child's stdin</p></dd>
<dt>
<!-- headerDoc=typedeffield;  uid=//apple_ref/doc/typedeffield/hal_shell_io_t/in_len;   name=in_len -->
<a name="//apple_ref/doc/typedeffield/hal_shell_io_t/in_len"></a>
<code>in_len</code>
</dt>
<dd><p>Length of input buffer</p></dd>
<dt>
<!-- headerDoc=typedeffield;  uid=//apple_ref/doc/typedeffield/hal_shell_io_t/out_cb;   name=out_cb -->
<a name="//apple_ref/doc/typedeffield/hal_shell_io_t/out_cb"></a>
<code>out_cb</code>
</dt>
<dd><p>Callback for streaming stdout (if set, out buffer not populated)</p></dd>
<dt>
<!-- headerDoc=typedeffield;  uid=//apple_ref/doc/typedeffield/hal_shell_io_t/err_cb;   name=err_cb -->
<a name="//apple_ref/doc/typedeffield/hal_shell_io_t/err_cb"></a>
<code>err_cb</code>
</dt>
<dd><p>Callback for streaming stderr (if set, err buffer not populated)</p></dd>
<dt>
<!-- headerDoc=typedeffield;  uid=//apple_ref/doc/typedeffield/hal_shell_io_t/userdata;   name=userdata -->
<a name="//apple_ref/doc/typedeffield/hal_shell_io_t/userdata"></a>
<code>userdata</code>
</dt>
<dd><p>User data passed to callbacks</p></dd>
</dl>
</div>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<!-- begin discussion --><!-- headerDoc=discussion;uid=//apple_ref/c/tdef/hal_shell_io_t;name=start --><p>hal_shell_io_t is used to control input/output capture and streaming for hal_shell.
It allows capturing stdout and stderr into buffers or streaming them via callbacks.
Input can be provided to the child process via a buffer.
Callbacks receive chunks of data as they arrive, useful for large outputs.
When callbacks are used, output buffers are not populated.
The caller is responsible for freeing captured output buffers when done.
<!-- headerDoc=discussion;uid=//apple_ref/c/tdef/hal_shell_io_t;name=end --><!-- end discussion -->
</p>
<hr class="betweenAPIEntries">
<!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/hal_shell_stream_cb_t;   name=hal_shell_stream_cb_t -->
<a name="//apple_ref/c/tdef/hal_shell_stream_cb_t"></a>
<h3><a name="hal_shell_stream_cb_t">hal_shell_stream_cb_t</a></h3>
<hr class="afterName">
<p><!-- headerDoc=abstract;uid=//apple_ref/c/tdef/hal_shell_stream_cb_t;name=start --><!-- begin abstract --></p>
<p>Callback type for streaming stdout/stderr
<!-- end abstract --><!-- headerDoc=abstract;uid=//apple_ref/c/tdef/hal_shell_stream_cb_t;name=end --></p>
<div class="declaration_indent">
<pre><!-- headerDoc=declaration;uid=//apple_ref/c/tdef/hal_shell_stream_cb_t;name=start --><span class="keyword">typedef</span> <!-- a logicalPath="//apple_ref/c/cl/void //apple_ref/c/tdef/void //apple_ref/c/tag/void //apple_ref/c/struct/void //apple_ref/c/intf/void //apple_ref/doc/anysymbol/void" machineGenerated="true" --><span class="type">void</span><!-- /a --> ( <span class="type">*</span><a machinegenerated="true" href="index.html#//apple_ref/c/tdef/hal_shell_stream_cb_t" logicalPath="//apple_ref/c/instm/hal_shell_stream_cb_t //apple_ref/c/clm/hal_shell_stream_cb_t //apple_ref/c/intfcm/hal_shell_stream_cb_t //apple_ref/c/intfm/hal_shell_stream_cb_t //apple_ref/c/func/hal_shell_stream_cb_t //apple_ref/c/ftmplt/hal_shell_stream_cb_t //apple_ref/c/defn/hal_shell_stream_cb_t //apple_ref/c/macro/hal_shell_stream_cb_t //apple_ref/doc/anysymbol/hal_shell_stream_cb_t" target="_top"><span class="function">hal_shell_stream_cb_t</span></a>)(
    <span class="keyword">const</span> <!-- a logicalPath="//apple_ref/c/cl/char //apple_ref/c/tdef/char //apple_ref/c/tag/char //apple_ref/c/struct/char //apple_ref/c/intf/char //apple_ref/doc/anysymbol/char" machineGenerated="true" --><span class="type">char</span><!-- /a --> <span class="type">*</span><span class="param">buffer</span>,
    <!-- a logicalPath="//apple_ref/c/cl/size_t //apple_ref/c/tdef/size_t //apple_ref/c/tag/size_t //apple_ref/c/struct/size_t //apple_ref/c/intf/size_t //apple_ref/doc/anysymbol/size_t" machineGenerated="true" --><span class="type">size_t</span><!-- /a --> <span class="param">size</span>,
    <!-- a logicalPath="//apple_ref/c/cl/void //apple_ref/c/tdef/void //apple_ref/c/tag/void //apple_ref/c/struct/void //apple_ref/c/intf/void //apple_ref/doc/anysymbol/void" machineGenerated="true" --><span class="type">void</span><!-- /a --> <span class="type">*</span><span class="param">userdata</span>);  <!-- headerDoc=declaration;uid=//apple_ref/c/tdef/hal_shell_stream_cb_t;name=end --></pre>
</div>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<div class="param_indent">
<dl>
<dt>
<!-- headerDoc=typedeffield;  uid=//apple_ref/doc/typedeffield/hal_shell_stream_cb_t/buffer;   name=buffer -->
<a name="//apple_ref/doc/typedeffield/hal_shell_stream_cb_t/buffer"></a>
<code>buffer</code>
</dt>
<dd><p>Data buffer</p></dd>
<dt>
<!-- headerDoc=typedeffield;  uid=//apple_ref/doc/typedeffield/hal_shell_stream_cb_t/size;   name=size -->
<a name="//apple_ref/doc/typedeffield/hal_shell_stream_cb_t/size"></a>
<code>size</code>
</dt>
<dd><p>Size of data in buffer</p></dd>
<dt>
<!-- headerDoc=typedeffield;  uid=//apple_ref/doc/typedeffield/hal_shell_stream_cb_t/userdata;   name=userdata -->
<a name="//apple_ref/doc/typedeffield/hal_shell_stream_cb_t/userdata"></a>
<code>userdata</code>
</dt>
<dd><p>User-provided data pointer</p></dd>
</dl>
</div>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<!-- begin discussion --><!-- headerDoc=discussion;uid=//apple_ref/c/tdef/hal_shell_stream_cb_t;name=start --><p>Receives buffer, size, and userdata. 
Invoked as data arrives from child process.
<!-- headerDoc=discussion;uid=//apple_ref/c/tdef/hal_shell_stream_cb_t;name=end --><!-- end discussion -->
</p>
<p class="gapBeforeFooter"> </p>
<hr class="afterFooter">
<div class="hd_copyright_and_timestamp">
<p class="hd_copyright">© George Watson GPLv3
 </p>
<p class="hd_timestamp">Last Updated: Thursday, December 25, 2025
</p>
</div>
</td>
</tr></table>
</body>
</html>
